(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{2714:function(e,t,r){e.exports={container:"container__2iP6G47sEc0hAqBE6gd-rL",screenReaderOnly:"screenReaderOnly__3RG-yj8QUaqEGxoq60clEz",loginForm:"loginForm__2b3QhfEl2q0x-jGDvaL1hW",formGroup:"formGroup__DxbdSf7u2URNR1UigkrrR",forgotPassword:"forgotPassword__3CETpPRhWY6VqWde7qEZ0J",fullWidth:"fullWidth__2aGNuAM7l4e7l8N_Vc254T",padBottomIfNotEmpty:"padBottomIfNotEmpty___qfVeDxS0ffuHMXuMwhV6"}},2716:function(e,t,r){e.exports={fieldErrors:"fieldErrors__e85fPVYy3tiRfGRsIM6D4"}},2766:function(e,t,r){e.exports={registrationContainer:"registrationContainer__2QEroVip0rj6VbrALiBz8V",screenReaderOnly:"screenReaderOnly__1DEYZ8Nk3P95bk8hyfMxBS",submitButton:"submitButton__34k4InI5TII_ayjcKIwCLO",tos:"tos__2irFvmVYzLt-zbObC3_2D8",recaptchaError:"recaptchaError__1Bv_glx_hCOObzHUb3cF9b",formGroup:"formGroup__2f7GlHvZXKIMvaIzaJuPIp",padBottomIfNotEmpty:"padBottomIfNotEmpty__1nV3QG5IEzhRlwpmTjvFiE"}},2768:function(e,t,r){e.exports={socialAuthContainer:"socialAuthContainer__3Z8JGrjINVY9W7QUaups9w",socialAuthButton:"socialAuthButton__37xPl0ozPFfWqDPqxOZliK",btnContainer:"btnContainer__3Ldc1PXDuChiV56wYQugYC",btnContainerListItem:"btnContainerListItem__10yHp3iXp82dNRPsTGDPpr",icon:"icon__2vDktWxPDSLCOvKmj71yjI",header:"header__C9eDi15RTpeygpoXEp9r"}},2769:function(e,t,r){e.exports=r.p+"74c384acd56adc62625f392b540a6d8b.svg"},2770:function(e,t,r){e.exports=r.p+"60fb18ae0caa43e1794d0715ce2fb6bf.svg"},2771:function(e,t,r){e.exports=r.p+"ffab1a716871d082b20aba480a35595b.svg"},2772:function(e,t,r){e.exports=r.p+"44054fb2b758a8db1cece67a2acbe209.svg"},282:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),l=g(i),u=g(r(1)),s=r(196),c=g(r(16)),f=r(6),d=g(r(982)),p=g(r(975)),m=r(5),h=r(19),y=g(r(64)),b=g(r(979)),v=g(r(2714));function g(e){return e&&e.__esModule?e:{default:e}}var _=(a=n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"render",value:function(){return function(){var e=this.props,t=e.onRecapChange,r=e.errors,n=e.redirectUrl,a=y.default.get("login_requires_captcha"),o=y.default.get("authenticity_token");return l.default.createElement("div",{className:v.default.container},l.default.createElement(f.Container,{className:v.default.loginForm,column:!0},l.default.createElement(s.Form,{action:(0,h.loginPostActionUrl)(),autoComplete:"off",method:"POST"},l.default.createElement("legend",{className:v.default.screenReaderOnly},(0,m.t)("views.users.sessions.login")),l.default.createElement("input",{name:"authenticity_token",type:"hidden",value:o}),l.default.createElement("input",{name:"redirect",type:"hidden",value:n}),l.default.createElement(s.FormGroup,{className:v.default.formGroup,htmlFor:"user_login",label:"Username or email"},l.default.createElement(s.Input,{htmlFor:"user_login",placeholder:"email or username",name:"user[login]"})),l.default.createElement(s.FormGroup,{className:v.default.formGroup,htmlFor:"login__user_password",label:"Password"},l.default.createElement(s.Input,{htmlFor:"login__user_password",placeholder:"password",type:"password",name:"user[password]"})),l.default.createElement("div",{className:v.default.padBottomIfNotEmpty},l.default.createElement(d.default,{show:a,onChange:t,publicKey:y.default.get("recaptcha_key")})),l.default.createElement(p.default,{errors:r}),l.default.createElement("a",{href:(0,h.forgotPasswordUrl)(),className:v.default.forgotPassword},"I forgot my password"),l.default.createElement(c.default,{type:"submit",round:!0,theme:"brand-purple",size:"large",className:v.default.fullWidth,id:"user_submit"},(0,m.t)("views.users.sessions.login")))),l.default.createElement(f.Container,{column:!0},l.default.createElement(b.default,null)))}}()}]),t}(),n.propTypes={redirectUrl:u.default.string.isRequired,errors:u.default.array,onRecapChange:u.default.func},a);t.default=_,e.exports=t.default},358:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a,o=E(r(617)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=E(r(0)),c=E(r(1)),f=E(r(31)),d=r(34),p=r(5),m=E(r(2)),h=r(196),y=r(195),b=E(r(982)),v=E(r(979)),g=E(r(64)),_=E(r(2766));function E(e){return e&&e.__esModule?e:{default:e}}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=[{name:"username",label:(0,p.t)("views.users.registration.username_label"),type:"text"},{name:"email",label:(0,p.t)("views.users.registration.email_label"),type:"email",invalidMessage:"Please use a valid email address"},{name:"password",label:(0,p.t)("views.users.registration.password_label"),type:"password",invalidMessage:"must have at least 4 characters",pattern:".{4,128}"}],j="/register/validate",C="/register",S=function(e){return e?e[0].toUpperCase()+e.slice(1):e},x=(a=n=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return r=n=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.idPrefix="sign_up_form_",n.state={disabled:!1,recapVerified:!1,validationErrors:{}},n.onRecapComplete=function(){n.setValidationErrorState({recaptcha:void 0},{recapVerified:!0})},n.onSubmit=function(e){if(e.preventDefault(),n.state.recapVerified)return n.setState({disabled:!0}),f.default.post(j).send({username:n.form.elements["user[username]"].value,email:n.form.elements["user[email]"].value,password:n.form.elements["user[password]"].value}).use(d.csrf).then(function(e){if(e.body&&e.body.errors&&Object.values(e.body.errors).filter(function(e){return e}).length){var t=Object.entries(e.body.errors).reduce(function(e,t){var r=l(t,2),n=r[0],a=r[1];return i({},e,w({},n,a[0]))},{});n.setValidationErrorState(t),n.setState({disabled:!1})}else n.form.submit()});n.setValidationErrorState({recaptcha:'Please check "I\'m not a robot"'})},n.genericClientSideValidityHandler=function(e,t){var r=t.target.validity.valueMissing,a=t.target.validity.valid,o=void 0;r?o="can't be blank":a||(o=P.find(function(t){return t.name===e}).invalidMessage),n.setValidationErrorState(w({},e,o))},n.genericServerSideValidityHandler=(0,o.default)(function(e,t){t.target.value?f.default.post(j).send(w({},e,t.target.value)).use(d.csrf).then(function(t){t.body.errors[e]&&t.body.errors[e].length>0?n.setValidationErrorState(w({},e,t.body.errors[e][0])):n.setValidationErrorState(w({},e,void 0))}):n.setValidationErrorState(w({},e,"can't be blank"))},250),n.onPasswordBlur=function(e){return n.genericClientSideValidityHandler("password",e)},n.onEmailBlur=function(e){return n.genericServerSideValidityHandler("email",e)},n.onUsernameBlur=function(e){return n.genericServerSideValidityHandler("username",e)},n.onPasswordKeyUp=function(e){if(n.state.validationErrors.password)return n.genericClientSideValidityHandler("password",e)},n.onEmailKeyUp=function(e){if(n.state.validationErrors.email)return n.genericServerSideValidityHandler("email",e)},n.onUsernameKeyUp=function(e){if(n.state.validationErrors.username)return n.genericServerSideValidityHandler("username",e)},O(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"].Component),u(t,[{key:"setValidationErrorState",value:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setState(function(r){return i({validationErrors:i({},r.validationErrors,e)},t)})}}()},{key:"render",value:function(){return function(){var e=this,t=g.default.get("authenticity_token"),r=this.props,n=r.redirectUrl,a=r.locationType,o=r.currentPage,i="location/EXERCISE"===a,l=this.state.disabled,u=(0,m.default)("recaptcha-wrapper",_.default.padBottomIfNotEmpty,{"recaptcha-wrapper--verified":this.state.recapVerified});return s.default.createElement("div",{className:_.default.registrationContainer},s.default.createElement("form",{onSubmit:this.onSubmit,noValidate:!0,ref:function(t){return e.form=t},action:C,autoComplete:"off",method:"post"},s.default.createElement("legend",{className:_.default.screenReaderOnly},"Sign up"),s.default.createElement("input",{name:"authenticity_token",type:"hidden",value:t}),s.default.createElement("input",{name:"signing_up_from_exercise",type:"hidden",value:i}),s.default.createElement("input",{name:"referring_page",type:"hidden",value:o}),s.default.createElement("input",{name:"redirect",type:"hidden",value:n}),P.map(function(t){return s.default.createElement(h.FormGroup,{htmlFor:""+e.idPrefix+t.name,label:t.label,className:_.default.formGroup,description:e.state.validationErrors[t.name]},s.default.createElement(h.Input,{htmlFor:""+e.idPrefix+t.name,name:"user["+t.name+"]",type:t.type,onBlur:function(r){r.persist(),e["on"+S(t.name)+"Blur"](r)},onKeyUp:function(r){r.persist(),e["on"+S(t.name)+"KeyUp"](r)},required:!0,error:!!e.state.validationErrors[t.name],pattern:t.pattern,autoFocus:"username"===t.name}))}),s.default.createElement("div",{className:u},this.state.validationErrors.recaptcha&&s.default.createElement("div",{className:_.default.recaptchaError,"data-test":"recaptcha-error"},this.state.validationErrors.recaptcha),s.default.createElement(b.default,{publicKey:g.default.get("recaptcha_key"),onChange:this.onRecapComplete})),s.default.createElement(y.Button,{size:"large",theme:"brand-purple",round:!0,type:"submit",className:_.default.submitButton,disabled:l,id:this.idPrefix+"submit"},(0,p.t)("views.users.registration.create_account_cta")),s.default.createElement("p",{className:_.default.tos,dangerouslySetInnerHTML:{__html:(0,p.t)("views.users.sessions.tos_link")}})),s.default.createElement(v.default,{signUp:!0}))}}()}]),t}(),n.propTypes={redirectUrl:c.default.string,locationType:c.default.string,currentPage:c.default.string},a);t.default=x,e.exports=t.default},584:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}var i={width:o(r(1)).default.number},l=function(e){var t=e.width,r=void 0===t?80:t,o=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["width"]);return a.default.createElement("svg",n({viewBox:"0 0 95 40",width:r,xmlns:"http://www.w3.org/2000/svg"},o),a.default.createElement("g",{fill:"none",fillRule:"evenodd"},a.default.createElement("path",{fill:"#6321E3",d:"M0 0h74v40H0zm78 34h17v6H78z"}),a.default.createElement("path",{d:"M13.971 23.67v6.82H10V10.345h6.82c4.749 0 7.253 2.965 7.253 6.62 0 3.625-2.504 6.705-7.253 6.705h-2.849zm2.245-9.871h-2.245v6.446h2.245c2.187 0 3.77-1.036 3.77-3.28 0-2.245-1.583-3.166-3.77-3.166zM37.734 30.49l-4.46-7.741h-2.821v7.741h-4V10.345h7.568c4.404 0 6.994 2.62 6.994 6.13 0 1.9-.777 4.317-3.828 5.526l5.151 8.49h-4.604zm-.72-13.986c0-1.784-1.295-2.705-3.51-2.705h-3.051v5.468h3.05c2.216 0 3.511-1.036 3.511-2.763zM53.467 10C59.31 10 64 14.346 64 20.418c0 6.072-4.69 10.417-10.533 10.417-5.842 0-10.533-4.345-10.533-10.417S47.625 10 53.467 10zm0 17.152c3.799 0 6.36-2.878 6.36-6.734 0-3.857-2.561-6.734-6.36-6.734-3.799 0-6.36 2.877-6.36 6.734 0 3.856 2.561 6.734 6.36 6.734z",fill:"#FFF"})))};l.propTypes=i,t.default=l,e.exports=t.default},975:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(0)),a=i(r(1)),o=i(r(2716));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.errors,r=void 0;return r=t&&t.length&&t.filter(function(e){return e}).length?t.filter(function(e){return e}).map(function(e,t){return n.default.createElement("li",{key:t},e)}):null,n.default.createElement("ul",{className:o.default.fieldErrors},r)};t.default=l,l.defaultProps={errors:[]},l.propTypes={errors:a.default.arrayOf(a.default.string)},e.exports=t.default},979:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=p(r(0)),a=p(r(1)),o=p(r(16)),i=r(5),l=r(19),u=p(r(2772)),s=p(r(2771)),c=p(r(2770)),f=p(r(2769)),d=p(r(2768));function p(e){return e&&e.__esModule?e:{default:e}}var m=[{org:"Google",url:(0,l.googleAuthenticationUrl)(),logo:u.default},{org:"Facebook",url:(0,l.facebookAuthenticationUrl)(),logo:s.default},{org:"Github",url:(0,l.githubAuthenticationUrl)(),logo:c.default},{org:"Twitter",url:(0,l.twitterAuthenticationUrl)(),logo:f.default,signInOnly:!0}],h=function(e){return n.default.createElement("div",null,n.default.createElement("h3",{className:d.default.header},e.signUp?(0,i.t)("views.users.sessions.oauth_register"):(0,i.t)("views.users.sessions.oauth_login")),n.default.createElement("ul",{className:d.default.btnContainer},m.map(function(t){return t.signInOnly&&e.signUp?null:n.default.createElement("li",{key:t.url,className:d.default.btnContainerListItem},n.default.createElement(o.default,{className:d.default.socialAuthButton,href:t.url},n.default.createElement("img",{alt:t.org,src:t.logo,className:d.default.icon})))})))};h.propTypes={signUp:a.default.bool},t.default=h,e.exports=t.default},982:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=c(r(0)),u=c(r(2790)),s=c(r(1));function c(e){return e&&e.__esModule?e:{default:e}}var f=(a=n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["default"].Component),i(t,[{key:"shouldComponentUpdate",value:function(){return function(e){return this.props.show!==e.show}}()},{key:"render",value:function(){return function(){var e=this.props,t=e.publicKey,r=e.show,n=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["publicKey","show"]);return r?l.default.createElement(u.default,o({},n,{sitekey:t})):null}}()}]),t}(),n.propTypes={show:s.default.bool,publicKey:s.default.string.isRequired},n.defaultProps={show:!0},a);t.default=f,e.exports=t.default}}]);
//# sourceMappingURL=d7b738208d0cf73ac8f2-3c0a7c09df04679675ba.js.map